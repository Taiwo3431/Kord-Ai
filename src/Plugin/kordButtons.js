(function(_0x421f37,_0x1c2cb7){const _0x41f918=a0_0x27ce,_0x431fd9=_0x421f37();while(!![]){try{const _0x363985=parseInt(_0x41f918(0x192))/0x1*(-parseInt(_0x41f918(0x171))/0x2)+parseInt(_0x41f918(0x172))/0x3+parseInt(_0x41f918(0x168))/0x4*(parseInt(_0x41f918(0x17c))/0x5)+parseInt(_0x41f918(0x18f))/0x6*(-parseInt(_0x41f918(0x169))/0x7)+parseInt(_0x41f918(0x185))/0x8*(parseInt(_0x41f918(0x174))/0x9)+parseInt(_0x41f918(0x175))/0xa+parseInt(_0x41f918(0x190))/0xb;if(_0x363985===_0x1c2cb7)break;else _0x431fd9['push'](_0x431fd9['shift']());}catch(_0x3b993a){_0x431fd9['push'](_0x431fd9['shift']());}}}(a0_0x2683,0x19a2f));const a0_0xbffaa1=a0_0x1ba5;(function(_0x34c2dd,_0x5a10b5){const _0xea1d3d=a0_0x27ce,_0x1756eb=a0_0x1ba5,_0x42817e=_0x34c2dd();while(!![]){try{const _0x2cfcab=-parseInt(_0x1756eb(0x1f9))/0x1*(parseInt(_0x1756eb(0x1f8))/0x2)+-parseInt(_0x1756eb(0x1ee))/0x3+-parseInt(_0x1756eb(0x1f3))/0x4*(parseInt(_0x1756eb(0x1e0))/0x5)+parseInt(_0x1756eb(0x1ec))/0x6+parseInt(_0x1756eb(0x1f0))/0x7*(parseInt(_0x1756eb(0x1ed))/0x8)+parseInt(_0x1756eb(0x1ef))/0x9*(-parseInt(_0x1756eb(0x1db))/0xa)+-parseInt(_0x1756eb(0x1d7))/0xb*(-parseInt(_0x1756eb(0x1e6))/0xc);if(_0x2cfcab===_0x5a10b5)break;else _0x42817e[_0xea1d3d(0x18e)](_0x42817e[_0xea1d3d(0x176)]());}catch(_0x35b4d8){_0x42817e['push'](_0x42817e[_0xea1d3d(0x176)]());}}}(a0_0x23ca,0xcc48d));function a0_0x27ce(_0x242ab2,_0x246114){const _0x268310=a0_0x2683();return a0_0x27ce=function(_0x27ce59,_0x50c9b9){_0x27ce59=_0x27ce59-0x15c;let _0x235082=_0x268310[_0x27ce59];return _0x235082;},a0_0x27ce(_0x242ab2,_0x246114);}function a0_0x23ca(){const _0x4624cf=a0_0x27ce,_0x8efd86=[_0x4624cf(0x173),_0x4624cf(0x15f),_0x4624cf(0x177),'handleButtonClick',_0x4624cf(0x166),'283WqOxhk',_0x4624cf(0x17b),_0x4624cf(0x187),_0x4624cf(0x15d),_0x4624cf(0x183),_0x4624cf(0x186),_0x4624cf(0x17a),_0x4624cf(0x164),_0x4624cf(0x18b),_0x4624cf(0x194),_0x4624cf(0x162),_0x4624cf(0x17e),_0x4624cf(0x170),_0x4624cf(0x181),_0x4624cf(0x189),_0x4624cf(0x182),_0x4624cf(0x15c),_0x4624cf(0x163),_0x4624cf(0x16d),_0x4624cf(0x165),_0x4624cf(0x178),_0x4624cf(0x18c),_0x4624cf(0x160),_0x4624cf(0x16f),_0x4624cf(0x17f),_0x4624cf(0x167),'Error\x20handling\x20button\x20click:','6095136jidELk',_0x4624cf(0x179),_0x4624cf(0x161),_0x4624cf(0x18a),_0x4624cf(0x16c),_0x4624cf(0x180),_0x4624cf(0x16b),_0x4624cf(0x16e)];return a0_0x23ca=function(){return _0x8efd86;},a0_0x23ca();}const EventEmitter=require(a0_0xbffaa1(0x1e5));function a0_0x2683(){const _0x1bf05f=['9176VxHdoP','selectedButtonId','116vmEqwX','855547SaXRzB','quick_reply','log','7WhYoSm','BUTTON\x20HANDLER:\x20Message\x20received','8UeuQqP','removeAllListeners','cleanupInterval','36auPIxY','491364WTCNGT','cleanupExpiredButtons','95922aUGXyn','1944120iZFmPV','shift','removeListener','events','8730296gETmeI','44806058ietsID','selectedId','6455oldXFH','parse','buttonsResponseMessage','registerButton','interactiveResponseMessage','exports','3119250mCcWtR','set','get','8KLTSNw','activeButtons','templateButtonReplyMessage','delete','nativeFlowResponseMessage','9nSdrDh','now','12XUGcTa','BUTTON\x20HANDLER:\x20Attempting\x20to\x20handle\x20button','push','6HxdsHR','101123ATAjdi','entries','10459XRLvCA','expiryTime','clear','Error\x20in\x20message\x20handler:','error','Error\x20parsing\x20button\x20data:','emit','message','4904121aLYwKF','11628610WIXHGo','buttonHandler','destroy','type'];a0_0x2683=function(){return _0x1bf05f;};return a0_0x2683();}function a0_0x1ba5(_0x4ca05d,_0x45c158){const _0x2cee69=a0_0x23ca();return a0_0x1ba5=function(_0x3b44fe,_0x320ef5){_0x3b44fe=_0x3b44fe-0x1d4;let _0x1bfd26=_0x2cee69[_0x3b44fe];return _0x1bfd26;},a0_0x1ba5(_0x4ca05d,_0x45c158);}class ButtonHandler extends EventEmitter{constructor(){const _0x473d8d=a0_0x27ce,_0x2aae40=a0_0xbffaa1;super(),this[_0x2aae40(0x1d6)]=new Map(),this[_0x473d8d(0x170)]=setInterval(()=>this[_0x473d8d(0x173)](),0x5*0x3c*0x3e8);}async[a0_0xbffaa1(0x1e9)](_0x20abb5,_0x4a1cee,_0x287979=0x1e*0x3c*0x3e8){const _0x56c6f5=a0_0xbffaa1;this[_0x56c6f5(0x1d6)][_0x56c6f5(0x1d5)](_0x20abb5,{'sessionId':_0x4a1cee,'expiryTime':Date[_0x56c6f5(0x1d9)]()+_0x287979});}async[a0_0xbffaa1(0x1f7)](_0x2d4b29,_0x21c1fe){const _0x5176d8=a0_0x27ce,_0x5bb5f1=a0_0xbffaa1;console[_0x5bb5f1(0x1f2)](_0x5176d8(0x18d));try{if(!_0x21c1fe['message']?.[_0x5bb5f1(0x1dc)]&&!_0x21c1fe[_0x5bb5f1(0x1e7)]?.[_0x5bb5f1(0x1fb)]&&!_0x21c1fe[_0x5bb5f1(0x1e7)]?.[_0x5bb5f1(0x1f1)])return![];let _0x388bbf,_0x5944fa;console[_0x5bb5f1(0x1f2)](_0x388bbf),console[_0x5bb5f1(0x1f2)](_0x5944fa);if(_0x21c1fe[_0x5bb5f1(0x1e7)][_0x5176d8(0x17e)])_0x388bbf=_0x21c1fe[_0x5176d8(0x160)][_0x5bb5f1(0x1dc)][_0x5176d8(0x167)];else{if(_0x21c1fe[_0x5176d8(0x160)][_0x5bb5f1(0x1fb)])_0x388bbf=_0x21c1fe[_0x5176d8(0x160)]['templateButtonReplyMessage'][_0x5bb5f1(0x1fa)];else{if(_0x21c1fe[_0x5176d8(0x160)][_0x5bb5f1(0x1f1)]){const _0x210352=_0x21c1fe[_0x5bb5f1(0x1e7)][_0x5bb5f1(0x1f1)];if(_0x210352[_0x5176d8(0x189)]?.[_0x5bb5f1(0x1ea)])try{_0x5944fa=JSON[_0x5176d8(0x17d)](_0x210352[_0x5bb5f1(0x1df)][_0x5bb5f1(0x1ea)]),console['log'](_0x5944fa),_0x388bbf=_0x5944fa['id'],console[_0x5176d8(0x16b)](_0x388bbf);}catch(_0x498196){return console[_0x5bb5f1(0x1d4)](_0x5176d8(0x15e),_0x498196),![];}}}}if(!_0x388bbf)return![];const _0x40848d=this[_0x5bb5f1(0x1d6)][_0x5176d8(0x184)](_0x388bbf);return this[_0x5bb5f1(0x1f5)](_0x388bbf,{..._0x5944fa,'message':_0x21c1fe,'sock':_0x2d4b29}),!![];}catch(_0x25d970){return console[_0x5176d8(0x15d)](_0x5bb5f1(0x1eb),_0x25d970),![];}}[a0_0xbffaa1(0x1f6)](_0x185b23){const _0x453677=a0_0x27ce,_0x477dd3=a0_0xbffaa1;this[_0x477dd3(0x1d6)][_0x453677(0x188)](_0x185b23),super[_0x477dd3(0x1e8)](_0x185b23);}[a0_0xbffaa1(0x1f4)](){const _0x123eed=a0_0x27ce,_0x38bc4b=a0_0xbffaa1,_0x1c11a9=Date[_0x38bc4b(0x1d9)]();for(const [_0x3c454f,_0x21ce0f]of this[_0x38bc4b(0x1d6)][_0x123eed(0x191)]()){_0x1c11a9>_0x21ce0f[_0x123eed(0x193)]&&this[_0x123eed(0x177)](_0x3c454f);}}[a0_0xbffaa1(0x1d8)](){const _0x29894f=a0_0xbffaa1;clearInterval(this[_0x29894f(0x1dd)]),this[_0x29894f(0x1d6)][_0x29894f(0x1da)](),this['removeAllListeners']();}}async function kordButtonUpsert(_0x27a7ee,_0x3a77a0){const _0x3ad00f=a0_0x27ce,_0x4cf0f4=a0_0xbffaa1;console[_0x4cf0f4(0x1f2)](_0x4cf0f4(0x1e3),_0x3a77a0?.[_0x3ad00f(0x160)]?.[_0x4cf0f4(0x1e4)]);try{!global[_0x4cf0f4(0x1e2)]&&(global[_0x4cf0f4(0x1e2)]=new ButtonHandler());const _0x2ccb73=await global[_0x4cf0f4(0x1e2)][_0x4cf0f4(0x1f7)](_0x27a7ee,_0x3a77a0);if(_0x2ccb73)return;}catch(_0x40b858){console[_0x3ad00f(0x15d)](_0x4cf0f4(0x1e1),_0x40b858);}}function createButton({id:_0x327477,text:_0x481ddf,sessionId:sessionId=null,expiryTime:expiryTime=null}){const _0x14e9bb=a0_0x27ce;return{'name':_0x14e9bb(0x16a),'buttonParamsJson':JSON['stringify']({'display_text':_0x481ddf,'id':_0x327477,'session':sessionId})};}module[a0_0xbffaa1(0x1de)]={'ButtonHandler':ButtonHandler,'kordButtonUpsert':kordButtonUpsert,'createButton':createButton};