const a0_0x2f517f=a0_0x3461;(function(_0x320688,_0x5c688b){const _0x212d5f=a0_0x3461,_0x25c1d0=_0x320688();while(!![]){try{const _0x4ccdb1=parseInt(_0x212d5f(0x181))/0x1*(parseInt(_0x212d5f(0x185))/0x2)+parseInt(_0x212d5f(0x196))/0x3+-parseInt(_0x212d5f(0x1a8))/0x4*(-parseInt(_0x212d5f(0x1ab))/0x5)+parseInt(_0x212d5f(0x179))/0x6+-parseInt(_0x212d5f(0x162))/0x7*(parseInt(_0x212d5f(0x169))/0x8)+parseInt(_0x212d5f(0x18a))/0x9+-parseInt(_0x212d5f(0x192))/0xa;if(_0x4ccdb1===_0x5c688b)break;else _0x25c1d0['push'](_0x25c1d0['shift']());}catch(_0x3973a9){_0x25c1d0['push'](_0x25c1d0['shift']());}}}(a0_0x1cc3,0xd9986));function a0_0x1939(){const _0x189672=a0_0x3461,_0x2f071b=['yellow','split',_0x189672(0x171),_0x189672(0x19c),'getGroupName',_0x189672(0x1a0),_0x189672(0x19d),_0x189672(0x154),_0x189672(0x164),_0x189672(0x191),_0x189672(0x165),_0x189672(0x14b),_0x189672(0x16a),_0x189672(0x19b),_0x189672(0x151),_0x189672(0x18c),_0x189672(0x166),_0x189672(0x1a3),_0x189672(0x1a4),_0x189672(0x178),_0x189672(0x15c),_0x189672(0x156),_0x189672(0x194),_0x189672(0x1a7),_0x189672(0x174),_0x189672(0x163),_0x189672(0x187),_0x189672(0x188),_0x189672(0x152),'üîç\x20Antidelete:\x20Detected\x20deleted\x20message\x20',_0x189672(0x15f),_0x189672(0x18f),'path','parse',_0x189672(0x16f),_0x189672(0x18d),_0x189672(0x198),_0x189672(0x193),_0x189672(0x190),_0x189672(0x150),_0x189672(0x15e),_0x189672(0x17c),'Deleted\x20message\x20not\x20found\x20in\x20database',_0x189672(0x153),_0x189672(0x18b),_0x189672(0x158),_0x189672(0x16e),_0x189672(0x167),_0x189672(0x159),_0x189672(0x195),'\x20in\x20','Error\x20cleaning\x20old\x20messages',_0x189672(0x1ad),_0x189672(0x199),'DELETE\x20FROM\x20messages\x20WHERE\x20timestamp\x20<\x20?',_0x189672(0x16d),_0x189672(0x186),_0x189672(0x15b),_0x189672(0x184),_0x189672(0x19a),_0x189672(0x183),_0x189672(0x155),_0x189672(0x180),_0x189672(0x14c),'groupMetadata',_0x189672(0x15a),_0x189672(0x18e),_0x189672(0x1a6),_0x189672(0x197),'logError','messages.db',_0x189672(0x1a9),_0x189672(0x177),_0x189672(0x16c),_0x189672(0x14d),_0x189672(0x1a2),_0x189672(0x172),_0x189672(0x157),_0x189672(0x14f),'14eSFiLx','Error\x20fetching\x20group\x20name',_0x189672(0x14e),_0x189672(0x19f),'exports',_0x189672(0x1ac),_0x189672(0x175),'protocolMessage','sock','4yZoMNy','237570IPjUph',_0x189672(0x1a1),_0x189672(0x1a5),_0x189672(0x182),_0x189672(0x19e),_0x189672(0x17b),_0x189672(0x173),_0x189672(0x1aa)];return a0_0x1939=function(){return _0x2f071b;},a0_0x1939();}function a0_0x7f9b(_0x2de013,_0x22d59f){const _0x5cccf4=a0_0x1939();return a0_0x7f9b=function(_0x1310e7,_0x258682){_0x1310e7=_0x1310e7-0x17c;let _0x1102cc=_0x5cccf4[_0x1310e7];return _0x1102cc;},a0_0x7f9b(_0x2de013,_0x22d59f);}const a0_0x5cd916=a0_0x7f9b;function a0_0x1cc3(){const _0x4ff065=['623425vkXtFx','toLocaleString','green','createSchema','56oNQeMD','Owner\x20numbers\x20not\x20set\x20in\x20global\x20settings','run','*DELETED\x20BY:*\x20@','720078XMcQTE','Private\x20Chat','*[DELETED\x20MESSAGE\x20INFORMATION]*\x0a\x0a','101670gRkAud','@s.whatsapp.net','senderKeyDistributionMessage','settings','8382486VkDSgs','Antidelete\x20is\x20disabled\x20or\x20owner\x20JID\x20not\x20set','execute','ownerJid','sock','@g.us','filter','sqlite3','32911aClPlj','Error\x20reading\x20from\x20database','‚úÖ\x20Database\x20connection\x20closed\x20successfully','close','86GGswKv','indexOf','Yes','now','trim','12007431dXlRcX','join','SELECT\x20message\x20FROM\x20messages\x20WHERE\x20remoteJid\x20=\x20?\x20AND\x20id\x20=\x20?','subject','chalk','üì©\x20Tracking\x20message\x20of\x20type:\x20','setOwnerJid','90RACMoD','43191110OesvMs','*MESSAGE\x20FROM:*\x20@','Error\x20forwarding\x20deleted\x20message','ANTI_DELETE_ENABLED','4066248ftSVzQ','forwardDeletedMessage','participant','enabled','‚úÖ\x20Cleaned\x20up\x20messages\x20older\x20than\x20','setup','cleanOldMessages','277902irwiVk','0@s.whatsapp.net','*TIME:*\x20','error','red','remoteJid','keys','createNotificationText','*IS\x20GROUP:*\x20','status@broadcast','handleMessageUpdate','128tTtiXh','initializeDB','createFakeReply','69470UxkPfw','message','Antidelete\x20is\x20disabled\x20in\x20global\x20settings','Error\x20initializing\x20SQLite\x20database','messageContextInfo','Error\x20closing\x20database\x20connection:','üöÄ\x20Antidelete\x20module\x20initialized\x20with\x20SQLite.\x20Enabled:\x20','Error\x20setting\x20up\x20Antidelete\x20module','‚úÖ\x20Antidelete:\x20Forwarded\x20deleted\x20message\x20to\x20owner','Database','*ANTIDELETE\x20DETECTED*','readFromDB','sqlite','isGroup','type','174194obbuFQ','üîç\x20Setting\x20up\x20Antidelete\x20module','fromMe','update','OWNER_NUMBERS','*CHAT:*\x20','isStatus','get','shouldTrackMessage','shift','blue','info','push','sendMessage','5152392qykRsq','user','messageStubType','490210GsPgsY','Message\x20type\x20not\x20configured\x20for\x20tracking','key','endsWith','8ZgSWqJ'];a0_0x1cc3=function(){return _0x4ff065;};return a0_0x1cc3();}(function(_0x145572,_0xa55d51){const _0x370a79=a0_0x3461,_0x2a7d0a=a0_0x7f9b,_0x2a12c8=_0x145572();while(!![]){try{const _0x1be123=-parseInt(_0x2a7d0a(0x1ad))/0x1+-parseInt(_0x2a7d0a(0x1b0))/0x2+parseInt(_0x2a7d0a(0x191))/0x3+parseInt(_0x2a7d0a(0x19d))/0x4*(parseInt(_0x2a7d0a(0x19e))/0x5)+parseInt(_0x2a7d0a(0x19a))/0x6*(-parseInt(_0x2a7d0a(0x194))/0x7)+parseInt(_0x2a7d0a(0x1d4))/0x8*(-parseInt(_0x2a7d0a(0x1ac))/0x9)+-parseInt(_0x2a7d0a(0x1af))/0xa*(-parseInt(_0x2a7d0a(0x1b2))/0xb);if(_0x1be123===_0xa55d51)break;else _0x2a12c8[_0x370a79(0x160)](_0x2a12c8['shift']());}catch(_0x5aa59e){_0x2a12c8[_0x370a79(0x160)](_0x2a12c8[_0x370a79(0x15d)]());}}}(a0_0x1939,0x1f518));function a0_0x3461(_0x732b0c,_0x1ca239){const _0x1cc3dc=a0_0x1cc3();return a0_0x3461=function(_0x34614b,_0x53b9b9){_0x34614b=_0x34614b-0x149;let _0x24e05f=_0x1cc3dc[_0x34614b];return _0x24e05f;},a0_0x3461(_0x732b0c,_0x1ca239);}const sqlite3=require(a0_0x5cd916(0x183)),{open}=require(a0_0x5cd916(0x1b4)),path=require(a0_0x5cd916(0x1c6)),chalk=require(a0_0x5cd916(0x187)),logger=require('./Plugin/kordlogger'),{DatabaseManager}=require('./Plugin/SQLitedb');class AntideleteModule{constructor(){const _0x3d9805=a0_0x3461,_0x5f3f51=a0_0x5cd916;this[_0x5f3f51(0x1cf)]=null,this[_0x5f3f51(0x1db)]=![],this[_0x3d9805(0x17d)]=null,this['db']=null;}async[a0_0x5cd916(0x18c)](){const _0x484f6d=a0_0x3461,_0x3d344b=a0_0x5cd916;try{this['db']=await open({'filename':path[_0x3d344b(0x1d2)](__dirname,_0x3d344b(0x18b)),'driver':sqlite3[_0x3d344b(0x196)]}),await DatabaseManager[_0x3d344b(0x17c)](this['db']);}catch(_0x1def9d){this[_0x3d344b(0x18a)](_0x484f6d(0x1ae),_0x1def9d);throw _0x1def9d;}}async[a0_0x5cd916(0x1cd)](_0x3f861f,_0x2dfe5f){const _0x18bee9=a0_0x5cd916;try{const _0x264525=await this['db'][_0x18bee9(0x17e)](_0x18bee9(0x1b5),[_0x3f861f,_0x2dfe5f]);return _0x264525?JSON[_0x18bee9(0x1c7)](_0x264525[_0x18bee9(0x199)]):null;}catch(_0x151aeb){return this[_0x18bee9(0x18a)](_0x18bee9(0x1a1),_0x151aeb),null;}}[a0_0x2f517f(0x152)](_0x48a729){const _0x2f32c5=a0_0x2f517f;return _0x48a729[_0x2f32c5(0x168)](_0x2f32c5(0x17e));}[a0_0x5cd916(0x186)](_0x3dd487){const _0x55d4af=a0_0x2f517f;return _0x3dd487===_0x55d4af(0x1a6);}[a0_0x5cd916(0x1ba)](_0x7e4fc9){const _0x24c2b5=a0_0x2f517f,_0x331e95=a0_0x5cd916;if(this[_0x331e95(0x186)](_0x7e4fc9[_0x24c2b5(0x167)][_0x331e95(0x190)]))return![];if(!_0x7e4fc9[_0x331e95(0x199)])return![];const _0xd46ebc=[_0x331e95(0x19b),_0x331e95(0x18d),_0x24c2b5(0x149)],_0x30833a=Object[_0x331e95(0x1b7)](_0x7e4fc9[_0x331e95(0x199)])[0x0];return logger['info'](chalk[_0x331e95(0x1ce)](_0x331e95(0x1c5)+_0x30833a)),!![];}[a0_0x5cd916(0x1cc)](){const _0x28fadc=a0_0x2f517f,_0x4eb98d=a0_0x5cd916,_0x1048a2=global[_0x4eb98d(0x1b9)]?.[_0x4eb98d(0x1d3)];if(!_0x1048a2){this[_0x4eb98d(0x18a)](_0x4eb98d(0x1c8));return;}this[_0x4eb98d(0x1cf)]=_0x1048a2[_0x4eb98d(0x1a7)](',')[0x0][_0x28fadc(0x189)]()+_0x28fadc(0x176);}[a0_0x5cd916(0x1a5)](_0x1de0a9){const _0x69643c=a0_0x5cd916;return{'key':{'fromMe':![],'participant':_0x69643c(0x1a2),'remoteJid':_0x69643c(0x188),'id':_0x1de0a9},'message':{'conversation':_0x69643c(0x193)}};}async[a0_0x5cd916(0x1aa)](_0x3eba82){const _0x1bb433=a0_0x5cd916;try{const _0x161991=await this[_0x1bb433(0x19c)][_0x1bb433(0x185)](_0x3eba82);return _0x161991[_0x1bb433(0x1c9)];}catch(_0x146a9e){return this[_0x1bb433(0x18a)](_0x1bb433(0x195),_0x146a9e),_0x3eba82[_0x1bb433(0x1a7)]('@')[0x0];}}async[a0_0x5cd916(0x1bd)](_0x4292bc){const _0x1a134b=a0_0x2f517f,_0x577e85=a0_0x5cd916;if(!global[_0x577e85(0x1b9)]?.[_0x1a134b(0x195)])return;if(!this[_0x577e85(0x1db)]||!this[_0x577e85(0x1cf)]){logger[_0x577e85(0x1c4)](chalk[_0x577e85(0x1a6)](_0x1a134b(0x17a)));return;}const _0x19e5ec=_0x4292bc[_0x577e85(0x1d5)][_0x577e85(0x190)],_0x5c1ec2=_0x4292bc[_0x1a134b(0x167)]['id'];if(this[_0x577e85(0x186)](_0x19e5ec))return;const _0xe77c1a=_0x4292bc[_0x577e85(0x192)][_0x577e85(0x199)]===null||_0x4292bc[_0x1a134b(0x157)][_0x577e85(0x1ae)]===0x2||_0x4292bc[_0x577e85(0x192)][_0x577e85(0x199)]&&_0x4292bc[_0x577e85(0x192)][_0x577e85(0x199)][_0x577e85(0x19b)]&&_0x4292bc[_0x577e85(0x192)]['message'][_0x577e85(0x19b)][_0x577e85(0x1d1)]===0x0;if(_0xe77c1a){logger[_0x577e85(0x1c4)](chalk[_0x577e85(0x1a6)](_0x577e85(0x1c3)+_0x5c1ec2+_0x577e85(0x1d8)+_0x19e5ec));const _0x31156f=await this[_0x577e85(0x1cd)](_0x19e5ec,_0x5c1ec2);if(!_0x31156f){logger[_0x577e85(0x1c4)](chalk[_0x577e85(0x1a6)](_0x577e85(0x1d0)));return;}if(!this[_0x577e85(0x1ba)](_0x31156f)){logger[_0x577e85(0x1c4)](chalk[_0x577e85(0x1a6)](_0x577e85(0x1b6)));return;}await this[_0x1a134b(0x197)](_0x19e5ec,_0x31156f);}}async[a0_0x5cd916(0x189)](_0x58d2d1,_0x3d51a6){const _0x148567=a0_0x2f517f,_0x102d07=a0_0x5cd916,_0x5347ab=_0x3d51a6[_0x102d07(0x1d5)][_0x102d07(0x1bb)]?this[_0x102d07(0x19c)][_0x102d07(0x1bf)]['id']:_0x3d51a6[_0x102d07(0x1d5)][_0x148567(0x198)]||_0x58d2d1,_0x24b6ae=_0x3d51a6[_0x148567(0x167)][_0x102d07(0x1ca)]||_0x3d51a6[_0x102d07(0x1d5)][_0x148567(0x1a2)];try{const _0x52ddb=await this[_0x102d07(0x19c)][_0x148567(0x161)](this[_0x102d07(0x1cf)],{'forward':_0x3d51a6},{'quoted':this[_0x102d07(0x1a5)](_0x3d51a6[_0x102d07(0x1d5)]['id'])});if(_0x52ddb){const _0x11060c=this['isGroup'](_0x58d2d1)?await this['getGroupName'](_0x58d2d1):_0x102d07(0x1a4),_0x1ad9ec=[_0x24b6ae,_0x5347ab][_0x148567(0x17f)]((_0x1933c0,_0x256d3e,_0x9fdf18)=>_0x9fdf18[_0x102d07(0x17d)](_0x1933c0)===_0x256d3e);await this[_0x102d07(0x19c)][_0x148567(0x161)](this[_0x148567(0x17c)],{'text':this[_0x102d07(0x1b8)](_0x11060c,_0x24b6ae,_0x5347ab,_0x58d2d1),'mentions':_0x1ad9ec},{'quoted':_0x52ddb}),logger[_0x102d07(0x1c4)](chalk['green'](_0x102d07(0x18f)));}}catch(_0x3bd505){this[_0x102d07(0x18a)](_0x102d07(0x1bc),_0x3bd505);}}[a0_0x5cd916(0x1b8)](_0x472c03,_0x26c339,_0x2d86d5,_0x14158d){const _0x380eb1=a0_0x2f517f,_0x4e9230=a0_0x5cd916;return _0x4e9230(0x1be)+(_0x4e9230(0x197)+new Date()[_0x380eb1(0x16b)]()+'\x0a')+(_0x4e9230(0x1cb)+_0x26c339[_0x4e9230(0x1a7)]('@')[0x0]+'\x0a')+(_0x4e9230(0x1d6)+_0x472c03+'\x0a')+(_0x4e9230(0x1a8)+_0x2d86d5[_0x4e9230(0x1a7)]('@')[0x0]+'\x0a')+(_0x4e9230(0x1a0)+(this[_0x4e9230(0x1c2)](_0x14158d)?_0x4e9230(0x1c0):'No'));}[a0_0x5cd916(0x18a)](_0x3f66e8,_0x4d25e4){const _0x4508fc=a0_0x5cd916;logger[_0x4508fc(0x1ab)](chalk[_0x4508fc(0x19f)]('‚ùå\x20'+_0x3f66e8+':\x20'+_0x4d25e4[_0x4508fc(0x199)]));}async[a0_0x2f517f(0x19b)](_0x1ca763){const _0x18e011=a0_0x2f517f,_0x46a73c=a0_0x5cd916;if(!global[_0x18e011(0x178)]?.[_0x46a73c(0x1d7)])return logger[_0x46a73c(0x1c4)](chalk[_0x46a73c(0x1a6)](_0x46a73c(0x1da))),this;try{return await this[_0x46a73c(0x18c)](),this[_0x46a73c(0x1cc)](),this[_0x46a73c(0x1db)]=!![],this[_0x46a73c(0x19c)]=_0x1ca763,logger[_0x18e011(0x15f)](chalk[_0x18e011(0x15e)](_0x46a73c(0x1b1)+this[_0x46a73c(0x1db)])),this;}catch(_0x5abb2f){this['logError'](_0x46a73c(0x184),_0x5abb2f);throw _0x5abb2f;}}async[a0_0x5cd916(0x1a3)](_0x5bc29b,_0x2e28d0){const _0xb8a7f4=a0_0x5cd916;await this[_0xb8a7f4(0x1bd)](_0x2e28d0);}async[a0_0x5cd916(0x1a9)](_0x5337d6=0x7){const _0x14d783=a0_0x2f517f,_0x357d99=a0_0x5cd916;try{const _0x169011=Date[_0x357d99(0x1c1)]()-_0x5337d6*0x18*0x3c*0x3c*0x3e8;await this['db'][_0x14d783(0x170)](_0x357d99(0x1dc),[_0x169011]),logger[_0x357d99(0x1c4)](chalk[_0x357d99(0x18e)](_0x357d99(0x180)+_0x5337d6+'\x20days'));}catch(_0x2971c9){this[_0x357d99(0x18a)](_0x357d99(0x1d9),_0x2971c9);}}async[a0_0x5cd916(0x17f)](){const _0x30d6e7=a0_0x2f517f,_0x54e3fa=a0_0x5cd916;try{this['db']&&(await this['db'][_0x54e3fa(0x17f)](),logger[_0x54e3fa(0x1c4)](chalk[_0x54e3fa(0x18e)](_0x54e3fa(0x181))));}catch(_0xa82596){this[_0x54e3fa(0x18a)](_0x30d6e7(0x14a),_0xa82596);}}}async function setupAntidelete(_0x165e66){const _0x3a244f=a0_0x5cd916;logger[_0x3a244f(0x1c4)](chalk['blue'](_0x3a244f(0x182)));const _0x56bc5f=new AntideleteModule();return _0x56bc5f[_0x3a244f(0x1b3)](_0x165e66);}module[a0_0x5cd916(0x198)]={'setupAntidelete':setupAntidelete};